# Общие сведения о системе

Браузерная однопользовательская Roguelike игра. Выполнена на языке TypeScript с использованием библиотеки React.


Система условно разделена на 2 части: frontend и backend (хотя никакого клиент-серверного взаимодействия нет - разбиение исключительно логическое).

## Frontend

Это часть системы, отвечающая за отрисовку игрового процесса и генерацию событий для дальнейшей обработки. Представляет из себя классическое React приложение. HUD выполнен React-компонентами, игровое поле - HTML Canvas. Для подгрузки текстур реализован отдельный менеджер.

## Backend

Это подсистема обработки событий, генерируемых фронтом. Имеет единую точку входа (своеобразный Gateway) - WorldManager. Этот модуль принимает события и делегирует их обработку дочерним подсистемам.


Чтобы связать два состояния - фронтовое и бэковое - реализован WorldContext. Он предоставляет фронту readonly состояние мира, которое необходимо отрисовать, и интерфейс взаимодействия с WorldManager'ом. Фронт не может напрямую изменить состояние мира - только посредством передачи соответствующих событий.

# Architectural Drivers

Технологический стек обусловлен требованием к кроссплатформенности решения - браузерное приложение априори кроссплатформенно, и с точки зрения графики подобный подход является наиболее простым для реализации. При этом язык TypeScript с точки зрения написания кода на нем удобен и потому, что обладает знакомым всем Си-подобным синтаксисом, и потому, что позволяет разработчикам работать в любой парадигме программирования (допустимы и ООП, и ФП, и даже скриптовая разработка).


Архитектурные же решения принимались с оглядкой на следующий ключевой фактор: разработка ведется командой студентов с разной степенью ознакомленности с выбранными технологиями, в весьма ограниченные сроки и с ограниченными возможностями по коммуникации.


Такие ограничения подталкивают к тому, чтобы максимально разделить приложение на как можно более независимые блоки, каждый из которых может быть реализован совершенно по-своему. Подобный подход позволяет каждому разработчику писать код так, как он о нем думает, и как ему привычнее. И хоть это и снижает качество и поддерживаемость итоговой системы ввиду ее разнородности, это позволяет максимально ускорить разработку и хотя бы попытаться уложиться в срок.


Таким образом, первое решение о строгом разбиении приложения на frontend и backend части стимулировано следующим соображением: для описания интерфейса игры хочется использовать React, а не возиться с интеропом HTML, CSS и TS вручную. При этом разработчиков, знакомых с React'ом в команде - 1 человек, а значит нужно как можно радикальнее отрезать область его влияния от всего остального проекта.


Выделение WorldManager'а как сущности и введение WorldContext последовало сразу же из необходимости связи "нежного" React состояния с состоянием, с которым будет работать backend, как самое интуитивное решение.


Использование же WorldManager'а в качестве диспетчера событий вдохновлено микросервисной архитектурой, одним из преимуществ которой как раз и является полная (или почти полная, как в нашем случае) независимость отдельных сервисов друг от друга.